{% extends 'resource/index.html' %}

{% block content %}
  <div class="container-fluid">
    <h2>Edit my profile</h2>
    <form method="post" enctype="multipart/form-data" class="my-4">
      {% csrf_token %}
      
      {% for field in form %}
        <div class="mb-3">
          <label for="{{ field.id_for_label }}" class="form-label">
            {% if field.field.required %}<span class="text-danger">*</span>{% endif %}
            {{ field.label }}
          </label>

          <div class="input-group">
            <span class="input-group-text">
              {% if field.name == 'username' %}<i class="fas fa-user"></i>{% endif %}
              {% if field.name == 'email' %}<i class="fas fa-envelope"></i>{% endif %}
              {% if field.name == 'password' %}<i class="fas fa-lock"></i>{% endif %}
              {% if field.name == 'department' %}<i class="fas fa-building"></i>{% endif %}
              {% if field.name == 'semester' %}<i class="fas fa-calendar-alt"></i>{% endif %}
            </span>
            {{ field }}
          </div>

          {% if field.errors %}
            <small class="text-danger">{{ field.errors.0 }}</small>
          {% endif %}
        </div>
      {% endfor %}

      <button class="btn btn-primary" type="submit">Save</button>
    </form>
  </div>
{% endblock %}
